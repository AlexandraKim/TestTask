@using TestTask.Models.Utility
@model IEnumerable<TestTask.Models.Dto.ProductDto>
@if (User.IsInRole(Constants.RoleAdmin))
{
  

  <div class="row pb-3">
    <div class="col-6">
    </div>
    <div class="col-6 text-end">
      <a class="btn btn-outline-primary" asp-action="ProductCreate"><i class="bi bi-plus-square"></i> Create New Product</a>

    </div>
  </div>
}
<table class="table">
  <thead>
  <tr>
    <th scope="col">#</th>
    <th scope="col">Title</th>
    <th scope="col">Quantity</th>
    <th scope="col">Price</th>
    <th scope="col">Total Price With VAT</th>
    @if (User.IsInRole(Constants.RoleAdmin))
    {
      <th scope="col">Action</th>
    }
  </tr>
  </thead>
  <tbody>
  @foreach (var item in Model)
   {
     <tr>
       <td>
         @item.ProductId
       </td>
       <td>
         @item.Title
       </td>
       <td>
         @item.Quantity
       </td>
       <td>
          @item.Price</td>
       <td>
         @item.TotalPriceWithVat</td>
        @if (User.IsInRole(Constants.RoleAdmin))
        {
          <td>
            <a class="btn btn-success" asp-action="ProductUpdate" asp-route-id="@item.ProductId">
              <i class="bi bi-pencil-square"></i>
            </a>
            <a class="btn btn-danger" asp-action="ProductDelete" asp-route-id="@item.ProductId">
              <i class="bi bi-trash"></i>
            </a>
          </td>
        }
     </tr>
   }
 
  </tbody>
</table>